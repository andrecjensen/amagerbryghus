<!doctype html>
<html lang="da">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="På Amager Bryghus brygger vi specialøl af den bedste kvalitet og uden begrænsninger, når det kommer til kreativitet og selvironi. Der er mulighed for rundvisning på bryggeriet, og nydelse af vores udvalg på vores to taprooms i København.">
    <meta name="keywords" content="specialøl, øl, craftbeer, amager, bryggeri, taproom, historie, rundvisning, øludvalg, double black mash, lardydardy, woaw kapow, todd the axe man">
    <meta property="og:title" content="Amager Bryghus – Vores øl">
    <meta property="og:description" content="Specialøl af den bedste kvalitet i hjertet af Amager.">
    <meta property="og:image" content="billeder/metaimage.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!--    Other CSS -->
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;900&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/3ba4455748.js" crossorigin="anonymous"></script>

    <link href="favicon.ico" rel="shortcut icon">
    <title>Amager Bryghus - Vores øl</title>
</head>

<body>

    <header class="navigation-primary head-main">
        <div class="navbar navbar-dark bg-white container d-flex">

            <div class="row mx-3 mx-lg-0">
                <a href="#!" class="text-dark">
                    <p class="da-lang">
                        DA
                    </p>
                </a>
                <p class="">
                    /
                </p>
                <a href="#!" class="text-dark">
                    <p>
                        EN
                    </p>
                </a>
            </div>
            <div class="navbar-brand logo">
                <a href="index.html"><img src="billeder/logo_AB_primary.png" alt="logo_amagerbryghus"></a>
            </div>
            <a class="nav-button mr-3" data-toggle="collapse" href="#collapseNav" role="button" aria-expanded="false" aria-controls="collapseNav">
                <span id="nav-icon3"><span></span><span></span><span></span><span></span></span>
            </a>
        </div>

        <!--navbar end-->

        <div class="fixed-top main-menu collapse text-white" id="collapseNav">
            <div>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="pl-0 pb-2 nav-link" href="index.html">Forside</a>
                    </li>
                    <li class="nav-item">
                        <a class="pl-0 pb-2 nav-link" href="taprooms.html">Taprooms</a>
                    </li>
                    <li class="nav-item"><a class="pl-0 pb-2 nav-link" href="beers.html">Vores øl</a></li>
                    <li class="nav-item dropdown">
                        <a class="pl-0 pb-2 nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Om bryggeriet</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="kontakt.html">Kontakt</a>
                            <a class="dropdown-item" href="historien.html">Historie</a>
                            <a class="dropdown-item" href="rundvisning.html">Rundvisning</a>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="nyhedsbrev-nav pr-4">
                <h6 class="mb-4 font-weight-bold">Hold dig opdateret med vores nyhedsbrev</h6>
                <p class="d-none d-sm-block">Vær den første til at læse om vores nye øl, få adgang til pre-sales og invitationer til kommende arrangementer</p>
                <button onclick="window.location.href='https://gmail.us10.list-manage.com/subscribe?u=8383b7a2dd9351a2cc496fc16&id=91975cc9c5'" class="btn btn-secondary">Tilmeld nyhedsbrev</button>
            </div>
        </div>
        <!--main-menu end-->
    </header>

    <main class="container">
        <div class="jumbotron bg-dark rounded-0 p-3 mt-3 mb-4">
            <h1 class="text-white text-center mt-2">
                Vores Øl
            </h1>
        </div>
        <div class="mb-4"><img src="billeder/03_BEE/vores_ol_mobil.png" alt="Oversigt øl" class="d-lg-none">
            <img src="billeder/03_BEE/vores_ol_desk.png" alt="Oversigt øl" class="d-none d-lg-block">
        </div>
        <div class="middlespace"></div>
        <div class="search-wrapper mt-5" style="display: flex; flex-direction: row;">
        </div>

        <input type="text" placeholder="Find øl.." class="searchbar my-5">

        <template class="search-element">
            <button class="search-term" data-value>Alle</button>
        </template>

        <div class="beerscontainer row">

        </div>

        <template class="beers">
            <article class="col-6 col-md-4 col-lg-3 mb-4" data-search>
                <a href="#">
                    <div class="text-center bg-light p-3 h-100">

                        <img class="mb-3">
                        <h4></h4>
                        <p></p>

                    </div>
                </a>
            </article>
        </template>
        <div class="bottomspace"></div>
    </main>

    <!-- Footer -->
    <footer class="page-footer font-small bg-dark pt-4 text-light">
        <!-- Footer Links -->
        <div class="container p-5">
            <!-- Footer links -->
            <div class="row mt-3">
                <!-- Grid column -->
                <div class="col-12 col-md-4 mb-5 d-flex align-items-start flex-column" style="height: 400px;">

                    <div class="">
                        <img src="billeder/BEER-COASTER---AMAGER-VECTOR-FARVE.png" alt="amagerbryhus" style="width: 50%;">
                    </div>
                    <div class="mt-auto">
                        <h6 class="font-weight-bold">Hold dig opdateret med vores nyhedsbrev</h6>
                        <p>Vær den første til at læse om vores nye øl, få adgang til pre-sales og invitationer til kommende arrangementer</p>

                        <button onclick="window.location.href='https://gmail.us10.list-manage.com/subscribe?u=8383b7a2dd9351a2cc496fc16&id=91975cc9c5'" class="btn btn-secondary">Tilmeld nyhedsbrev</button>



                    </div>

                </div>
                <div class="col-1 d-none d-md-block"></div>

                <div class="col-12 col-md-3 mx-auto mb-4 mb-md-0">
                    <p><strong>Amager Bryghus</strong><br>
                        Kirstinehøj 38B, 2770 Kastrup <br>
                        Tlf: + 45 32 50 62 00<br>
                        Email: info@amagerbryghus.dk</p>
                    <br>
                    <p><strong>Taproom Nørreport</strong><br>
                        Nørre Voldgade 27, 1358 København <br>
                        Tlf: + 45 61 78 38 86<br>
                        Email: taproom@amagerbryghus.dk</p>
                    <br>
                    <p><strong>Taproom Islands Brygge</strong><br>
                        Egilsgade 20, 2300 København <br>
                        Tlf: + 45 31 47 60 04<br>
                        Email: taproombryggen@amagerbryghus.dk</p>
                </div>

                <div class="col-1 d-none d-md-block"></div>

                <!-- Grid column -->
                <div class="col-12 col-md-3">

                    <ul class="list-unstyled">
                        <li><a href="#">Cookies</a></li>
                        <li><a href="#">Presse</a></li>
                        <li><a href="https://www.findsmiley.dk/714782">Smileyrapport</a></li>
                        <li><a href="#">Privatpolitik</a></li>
                    </ul>
                    <br>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/amagerbryghus" class="fab fa-facebook" data-toggle="tooltip" data-placement="top" title="Facebook"></a>
                        <a href="https://www.instagram.com/amagerbryghus/" class="fab fa-instagram" data-toggle="tooltip" data-placement="top" title="Instagram"></a>
                        <a href="https://untappd.com/AmagerBryghus" class="fab fa-untappd" data-toggle="tooltip" data-placement="top" title="Untappd"></a>
                        <a href="https://www.ratebeer.com/brewers/amager-bryghus/8189/" class="fa fa-beer" data-toggle="tooltip" data-placement="top" title="RateBeer"></a>
                    </div>

                    <p class="text-center text-md-left mt-5"><small class="text-muted">CVR-nr. 34 59 61 90 <br> © 2020 Amager Bryghus. All Rights Reserved</small></p>
                </div>

            </div>
            <!-- Footer links -->
        </div>
        <!-- Footer Links -->
    </footer>

    <div id="myModal" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="mx-auto my-auto">
                    <div>
                        <h4 class="modal-title text-center">Er du over 18?</h4>
                    </div>
                    <div class="mt-5">
                        <button type="button" class="btn btn-primary bg-dark p-5 mr-4" data-dismiss="modal" aria-hidden="true" id="overAge">Ja</button>
                        <a href="404.html"><button type="button" class="btn btn-primary bg-dark p-5 ml-4" aria-hidden="true">Nej</button></a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="script.js"></script>
    <script>
        let feed = [];
        let dest;
        let beerCategories;
        let klon;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            getJson();
        }

        async function getJson() {
            let postsUrl = "http://majroslyng.dk/kea/eksamen4/wordpress/wp-json/wp/v2/beer?per_page=100";
            let categoriesUrl = "http://majroslyng.dk/kea/eksamen4/wordpress/wp-json/wp/v2/categories?per_page=100&exclude=1";
            let jsonData = await fetch(postsUrl);
            beerCategories = await fetch(categoriesUrl);
            feed = await jsonData.json();
            beerCategories = await beerCategories.json();
            visFeed();
            visSort();
            console.dir(document.querySelector(".search-term"));
        }

        function visSort() {
            let template = document.querySelector(".search-element");
            dest = document.querySelector(".search-wrapper");

            beerCategories.forEach(category => {
                klon = template.cloneNode(true).content;
                console.log(category);
                klon.querySelector(".search-term").innerHTML = category.name;
                klon.querySelector(".search-term").dataset.value = category.id;

                dest.appendChild(klon);
            });
        }

        function visFeed() {
            let temp = document.querySelector("template.beers");
            dest = document.querySelector(".beerscontainer")

            feed.forEach(onepost => {

                klon = temp.cloneNode(true).content;
                klon.querySelector("img").src = onepost.beerpic.guid;
                klon.querySelector("h4").innerHTML = onepost.beername;
                klon.querySelector("p").innerHTML = onepost.beertype;
                klon.querySelector("article").dataset.search = onepost.categories;

                klon.querySelector("a").href = "view.html?slug=" + onepost.slug;
                dest.appendChild(klon);
            });

            setTimeout(() => {
                searching();
            }, 10);
        }

        function searching() {
            $("button.search-term").click(function(e) {
                // Tag kategori-værdien
                let catValue = e.target.dataset.value;

                // giv fjern "active"-klassen på alle knapper og tilføj på denne
                document.querySelectorAll(".search-term").forEach(function(el) {
                    el.classList.remove("active");
                });

                e.target.classList.add("active");

                // Loop igennem alle posts og vis dem med matchende kategori-værdier
                document.querySelectorAll(".beerscontainer article").forEach(function(e) {
                    console.dir(e.dataset.search);
                    if (catValue == 3) {
                        e.style.display = "block";
                    } else if (e.dataset.search == catValue) {
                        e.style.display = "block";
                    } else {
                        e.style.display = "none";
                    }
                })

            })
        }
    </script>
</body>

</html>
